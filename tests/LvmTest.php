<?php

use MrCrankHank\LvmParser\Parser;

class TargetParserDelete extends PHPUnit_Framework_TestCase
{
    public static function lvsProvider()
    {
        return [
            ['lvs.1', array ( 0 => array ( 'LV' => 'LV_server1', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '429496729600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 1 => array ( 'LV' => 'LV_server2', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '429496729600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 2 => array ( 'LV' => 'LV_backuppc', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '3758096384000', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 3 => array ( 'LV' => 'LV_proxmoxBackup', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '1073741824000', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 4 => array ( 'LV' => 'LV_sbs', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '2147483648000', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 5 => array ( 'LV' => 'LV_root', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '9999220736', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 6 => array ( 'LV' => 'LV_usr', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '9999220736', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 7 => array ( 'LV' => 'LV_var', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '9999220736', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), )],
            ['lvs.2', array ( 0 => array ( 'LV' => 'LV_time', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 1 => array ( 'LV' => 'LV_booking', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '53687091200', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 2 => array ( 'LV' => 'LV_install', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '53687091200', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 3 => array ( 'LV' => 'LV_data', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '107374182400', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 4 => array ( 'LV' => 'LV_mysql', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '53687091200', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 5 => array ( 'LV' => 'LV_templates', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 6 => array ( 'LV' => 'LV_it', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 7 => array ( 'LV' => 'LV_misc', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 8 => array ( 'LV' => 'LV_time', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '80530636800', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 9 => array ( 'LV' => 'LV_backuppc', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '214748364800', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 10 => array ( 'LV' => 'LV_dates', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '214748364800', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 11 => array ( 'LV' => 'LV_backup', 'VG' => 'VG_data01', 'Attr' => '-wi-ao--', 'LSize' => '429496729600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 12 => array ( 'LV' => 'LV_root', 'VG' => 'VG_System', 'Attr' => '-wi-ao--', 'LSize' => '19998441472', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 13 => array ( 'LV' => 'LV_swap', 'VG' => 'VG_System', 'Attr' => '-wi-ao--', 'LSize' => '3997171712', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 14 => array ( 'LV' => 'LV_usr', 'VG' => 'VG_System', 'Attr' => '-wi-ao--', 'LSize' => '9999220736', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), 15 => array ( 'LV' => 'LV_var', 'VG' => 'VG_System', 'Attr' => '-wi-ao--', 'LSize' => '19998441472', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Move' => '', 'Log' => '', 'Copy%' => '', 'Convert' => '', ), )],
            ['lvs.3', array ( 0 => array ( 'LV' => 'vm-101-disk-1', 'VG' => 'VG_nas_datastore1', 'Attr' => '-wi-ao----', 'LSize' => '639950127104', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 1 => array ( 'LV' => 'vm-100-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 2 => array ( 'LV' => 'vm-101-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 3 => array ( 'LV' => 'vm-103-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 4 => array ( 'LV' => 'vm-103-disk-2', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '26843545600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 5 => array ( 'LV' => 'vm-104-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 6 => array ( 'LV' => 'vm-108-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '42949672960', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 7 => array ( 'LV' => 'vm-110-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 8 => array ( 'LV' => 'vm-117-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '42949672960', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 9 => array ( 'LV' => 'vm-117-disk-2', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '21474836480', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 10 => array ( 'LV' => 'vm-117-disk-3', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 11 => array ( 'LV' => 'vm-117-disk-4', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 12 => array ( 'LV' => 'vm-104-disk-2', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '21474836480', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 13 => array ( 'LV' => 'vm-124-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 14 => array ( 'LV' => 'vm-109-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '16106127360', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 15 => array ( 'LV' => 'vm-120-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 16 => array ( 'LV' => 'vm-123-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '42949672960', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 17 => array ( 'LV' => 'vm-125-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 18 => array ( 'LV' => 'vm-126-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 19 => array ( 'LV' => 'vm-126-disk-2', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 20 => array ( 'LV' => 'vm-103-disk-3', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '32212254720', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 21 => array ( 'LV' => 'vm-114-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 22 => array ( 'LV' => 'vm-105-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '42949672960', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 23 => array ( 'LV' => 'vm-106-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '26843545600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 24 => array ( 'LV' => 'vm-107-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-a-----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 25 => array ( 'LV' => 'vm-111-disk-1', 'VG' => 'VG_data', 'Attr' => '-wi-ao----', 'LSize' => '10737418240', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 26 => array ( 'LV' => 'LV_root', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '21474836480', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 27 => array ( 'LV' => 'CDs', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '214748364800', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), )],
            ['lvs.4', array ( 0 => array ( 'LV' => 'LV_map', 'VG' => 'VG_data03', 'Attr' => '-wi-ao----', 'LSize' => '429496729600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 1 => array ( 'LV' => 'LV_server18', 'VG' => 'VG_data02', 'Attr' => '-wi-ao----', 'LSize' => '214748364800', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 2 => array ( 'LV' => 'LV_server10', 'VG' => 'VG_data01', 'Attr' => '-wi-ao----', 'LSize' => '429496729600', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 3 => array ( 'LV' => 'LV_boot', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '197132288', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 4 => array ( 'LV' => 'LV_root', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '7998537728', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 5 => array ( 'LV' => 'LV_var', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '4999610368', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), 6 => array ( 'LV' => 'LV_usr', 'VG' => 'VG_System', 'Attr' => '-wi-ao----', 'LSize' => '4999610368', 'Pool' => '', 'Origin' => '', 'Data%' => '', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), ) ],
            ['lvs.5', array ( 0 => array ( 'LV' => 'lvol0', 'VG' => 'VG_System', 'Attr' => 'swi-a-s---', 'LSize' => '1073741824', 'Pool' => '', 'Origin' => 'LV_root', 'Data%' => '0,03', 'Meta%' => '', 'Move' => '', 'Log' => '', 'Cpy%Sync' => '', 'Convert' => '', ), )]
        ];
    }

    /**
     * @param $file
     * @param $expectedData
     *
     * @dataProvider lvsProvider
     */
    public function testLvs($file, $expectedData)
    {
        $parser = new Parser(file_get_contents(__DIR__  . DIRECTORY_SEPARATOR . 'files' . DIRECTORY_SEPARATOR . 'sample' . DIRECTORY_SEPARATOR . 'lvs' . DIRECTORY_SEPARATOR . $file));

        $data = $parser->type('lvs')->parse()->toArray();

        $this->assertEquals($data, $expectedData);
    }

    public static function vgsProvider()
    {
        return [
            ['vgs.1', array ( 0 => array ( 'VG' => 'VG_data01', 'PV' => '1', 'LV' => '5', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '8001561821184', 'VFree' => '163246505984', ), 1 => array ( 'VG' => 'VG_System', 'PV' => '1', 'LV' => '3', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '299834015744', 'VFree' => '269836353536', ), )],
            ['vgs.2', array ( 0 => array ( 'VG' => 'VG_data01', 'PV' => '1', 'LV' => '12', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '1997143015424', 'VFree' => '746233790464', ), 1 => array ( 'VG' => 'VG_System', 'PV' => '1', 'LV' => '4', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '499176701952', 'VFree' => '445183426560', ), )],
            ['vgs.3', array ( 0 => array ( 'VG' => 'VG_nas_datastore1', 'PV' => '1', 'LV' => '1', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '639950127104', 'VFree' => '0', ), 1 => array ( 'VG' => 'VG_data', 'PV' => '1', 'LV' => '25', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '997992693760', 'VFree' => '520177582080', ), 2 => array ( 'VG' => 'VG_System', 'PV' => '1', 'LV' => '2', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '497993908224', 'VFree' => '261770706944', ), )],
            ['vgs.4', array ( 0 => array ( 'VG' => 'VG_data04', 'PV' => '1', 'LV' => '0', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '2000393601024', 'VFree' => '2000393601024', ), 1 => array ( 'VG' => 'VG_data03', 'PV' => '1', 'LV' => '1', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '2000393601024', 'VFree' => '1570896871424', ), 2 => array ( 'VG' => 'VG_data02', 'PV' => '1', 'LV' => '1', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '1980395159552', 'VFree' => '1765646794752', ), 3 => array ( 'VG' => 'VG_data01', 'PV' => '1', 'LV' => '1', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '1980395159552', 'VFree' => '1550898429952', ), 4 => array ( 'VG' => 'VG_System', 'PV' => '1', 'LV' => '4', 'SN' => '0', 'Attr' => 'wz--n-', 'VSize' => '19981664256', 'VFree' => '1786773504', ), )]
        ];
    }

    /**
     * @param $file
     * @param $expectedData
     *
     * @dataProvider vgsProvider
     */
    public function testVgs($file, $expectedData)
    {
        $parser = new Parser(file_get_contents(__DIR__  . DIRECTORY_SEPARATOR . 'files' . DIRECTORY_SEPARATOR . 'sample' . DIRECTORY_SEPARATOR . 'vgs' . DIRECTORY_SEPARATOR . $file));

        $data = $parser->type('vgs')->parse()->toArray();

        $this->assertEquals($data, $expectedData);
    }

    public static function pvsProvider()
    {
        return [
            ['pvs.1', array ( 0 => array ( 'PV' => '/dev/sdc', 'VG' => 'VG_data01', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '8001561821184B', 'PFree' => '163246505984B', ), 1 => array ( 'PV' => '/dev/md1', 'VG' => 'VG_System', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '299834015744B', 'PFree' => '269836353536B', ), )],
            ['pvs.2', array ( 0 => array ( 'PV' => '/dev/sdb1', 'VG' => 'VG_data01', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '1997143015424B', 'PFree' => '746233790464B', ), 1 => array ( 'PV' => '/dev/sda5', 'VG' => 'VG_System', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '499176701952B', 'PFree' => '445183426560B', ), )],
            ['pvs.3', array ( 0 => array ( 'PV' => '/dev/sdc', 'VG' => 'VG_nas_datastore1', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '639950127104B', 'PFree' => '0B', ), 1 => array ( 'PV' => '/dev/sdb1', 'VG' => 'VG_data', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '997992693760B', 'PFree' => '520177582080B', ), 2 => array ( 'PV' => '/dev/sda5', 'VG' => 'VG_System', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '497993908224B', 'PFree' => '261770706944B', ), )],
            ['pvs.4', array ( 0 => array ( 'PV' => '/dev/sdd1', 'VG' => 'VG_data04', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '2000393601024B', 'PFree' => '2000393601024B', ), 1 => array ( 'PV' => '/dev/sdc1', 'VG' => 'VG_data03', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '2000393601024B', 'PFree' => '1570896871424B', ), 2 => array ( 'PV' => '/dev/sdb2', 'VG' => 'VG_data02', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '1980395159552B', 'PFree' => '1765646794752B', ), 3 => array ( 'PV' => '/dev/sda2', 'VG' => 'VG_data01', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '1980395159552B', 'PFree' => '1550898429952B', ), 4 => array ( 'PV' => '/dev/md0', 'VG' => 'VG_System', 'Fmt' => 'lvm2', 'Attr' => 'a--', 'PSize' => '19981664256B', 'PFree' => '1786773504B', ), )]
        ];
    }

    /**
     * @param $file
     * @param $expectedData
     *
     * @dataProvider pvsProvider
     */
    public function testPvs($file, $expectedData)
    {
        $parser = new Parser(file_get_contents(__DIR__  . DIRECTORY_SEPARATOR . 'files' . DIRECTORY_SEPARATOR . 'sample' . DIRECTORY_SEPARATOR . 'pvs' . DIRECTORY_SEPARATOR . $file));

        $data = $parser->type('pvs')->parse()->toArray();

        $this->assertEquals($data, $expectedData);
    }
}
